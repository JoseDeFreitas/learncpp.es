# 01.05 Introducción a iostream - cout, cin y endl

<details>
    <summary>Información del archivo</summary>

| Autor en inglés | Traductor al español | Fecha de creación | Última modificación |
| --------------- | -------------------- | ----------------- | ------------------- |
| Alex            | José De Freitas      | 12/01/2015        | 29/04/2020          |

</details>

En esta lección te enseñaremos sobre std::cout, la función que usamos en nuestro programa
hola mundo para imprimir el texto "*¡Hola, mundo!*" a la consola. También te enseñaremos a
tomar el input del usuario, haciendo que nuestros programas sean más interactivos.

#### **Índice**

1. [La librería input/output](#la-librería-input-output)
2. [std::cout](#std::cout)
3. [std::endl](#std::endl)
4. [std::endl vs '\n'](#std::endl-vs-\n)
5. [std::cin](#std::cin)
6. [Resumen](#resumen)
7. [Prueba](#prueba)

## La librería input/output

La **librería input/output** (librería "io") es parte de la librería estándar de C++. Esta
librería controla el input y el output. Usaremos las características que nos provee esta
librería para tomar input del usuario e imprimir output en la consola. Las letras *io* en
*iostream* significan *input/output*.

Para usar la función definida en la librería *iostream* necesitamos incluir el encabezado
*iostream* al principio de cualquier archivo de código que use el contenido de esta librería:
```cpp
#include <iostream>

// resto del código que usa las funciones de iostream
```

## std::cout

La librería *iostream* contiene algunas variables predefinidas que podemos usar. Una de las
más útiles es **std::cout**, la cual nos permite imprimir datos en la consola. *cout*
significa "character output".

Te recordamos que este es el programa *hola mundo*:
```cpp
#include <iostream> // para tener std::cout disponible
 
int main()
{
    std::cout << "¡Hola, mundo!"; // imprime ¡Hola, mundo! en la consola
 
    return 0;
}
```

En este programa incluimos la librería *iostream* para poder acceder a *std::cout*. Dentro
de la función *main* estamos usando *std::cout* con el **operador de inserción (<<)** para
imprimir el texto *¡Hola, mundo!* en la consola.

*std::cout* también puede imprimir números:
```cpp
#include <iostream> // para tener std::cout disponible
 
int main()
{
    std::cout << 4; // imprime 4 en la consola
 
    return 0;
}
```

Esto devuelve el resultado:
```
4
```

También puede ser usardo para imprimir el valor de una variable:
```cpp
#include <iostream> // para tener std::cout disponible
 
int main()
{
    int x{ 5 }; // definición de la variable de tipo entero x, inicializada con el valor 5
    std::cout << x; // imprime el valor de x (5) en la consola
    return 0;
}
```

Esto devuelve el resultado:
```
5
```

Para imprimir más de una cosa en una sola línea se puede usar el operador de inserción (<<)
varias veces en la misma declaración para concatenar (enlazar) muchos trozos del output.
Por ejemplo:
```cpp
#include <iostream> // para tener std::cout disponible
 
int main()
{
    std::cout << "¡Hola," << " mundo!";
    return 0;
}
```

Este programa imprime:
```
¡Hola, mundo!
```

Aquí hay otro ejemplo donde imprimimos tanto el texto como el valor de la variable en una
sola declaración:
```cpp
#include <iostream> // para tener std::cout disponible
 
int main()
{
    int x{ 5 };
    std::cout << "x es igual a: " << x;
    return 0;
}
```

Este programa imprime:
```
x es igual a: 5
```

## std::endl

¿Qué crees que imprimirá este programa?

```cpp
#include <iostream> // para tener std::cout disponible
 
int main()
{
    std::cout << "¡Hola!";
    std::cout << "Mi nombre es Alex.";
    return 0;
}
```

Puede que te impresione el resultado:

`¡Hola!Mi nombre es Alex.`

Al separar las declaraciones que imprimen el texto en pantalla no separamos las líneas que se
imprimen en la consola.

Si queremos imprimir múltiples líneas por separado en la consola debemos decirle a la consola
que tiene que mover el cursor a la línea siguiente.

Una manera de hacer esto es usandp *std::endl*. Cuando imprimimos a la consola usando
*std::cout*, *std::endl* imprime un caracter de nueva línea en la consola (haciendo que el
cursor se mueva a la línea siguiente). En este contexto, *endl* significa "end line".

Por ejemplo:
```cpp
#include <iostream> // para tener std::cout y std::endl disponibles
 
int main()
{
    std::cout << "¡Hola!" << std::endl; // std::endl hará que el cursor se mueva a la siguiente línea en la consola
    std::cout << "Mi nombre es Alex." << std::endl;
 
    return 0;
}
```

Este programa imprime:

```
Hi!
My name is Alex.
```

> **Consejo**
>
> En el programa de arriba, el segundo *std::endl* técnicamente no es necesario ya que el
> programa para su ejecución justo después de esa declaración. Sin embargo, nos es úlil por
> dos razones: primero nos indica en qué línea del output hay un "pensamiento completo".
> Segundo, si luego queremos añadir más líneas no tenemos que modificar el código existente,
> simplemente debemos añadirlo.

## std::endl vs '\n'

Puede ser que usar std::endl sea un poco ineficiente porque esta instrucción realiza dos
cosas: mueve el curor a la línea siguiente y se asegura de que el output se muestra en la
consola inmediatamente. Cuando estamos escribiendo texto en la consola usando std::cout este
generalmente envía el texto al output sin importar qué (y si no lo hace no suele importar
mucho). Es por esto que no es muy común usar std::endl.

Hay otra manera de que el programa salte a una nueva línea: usando el caracter '\n'. El
caracter '\n' mueve el cursor a la línea siguiente pero es más eficiente que std::endl.
Además, el caracter '\n' tiende a ser más fácil de leer ya que es más corto y puede ser
incluido dentro del texto en sí.

Aquí hay un ejemplo que usa '\n' de dos maneras diferentes:
```cpp
#include <iostream> // para tener std::cout disponible
 
int main()
{
    int x{ 5 };
    std::cout << "x es igual a: " << x << '\n'; // usando '\n' solo
    std::cout << "¡Eso es todo amigos!\n"; // usando '\n' dentro de un texto con comillas dobles (nota: cuando se usa un string de más de un caracter se deben usar comillas dobles)
    return 0;
}
```

Este programa imprime:
```
x es igual a: 5
¡Eso es todo amigos!
```

Cuando usamos '\n' solo para mover el cursor a la línea siguiente se necesita usar las
comillas simples (es decir, cuando el string que contiene el '\n' no tiene otro caracter.
'\n' se cuenta como un solo caracter a pesar de haber dos caracteres en realidad: '\' y 'n').
Cuando usamos el '\n' dentro de un string que ya tiene dobles comillas no necesitamos usar
las comillas simples.

Explicaremos a detalle qué es '\n' en la [lección 04.11](/Contenido/Cap%C3%ADtulo%2004%20Tipos%20de%20datos%20fundamentales/04.11%20Caracteres.md).

> **Mejores prácticas**
>
> Es más recomendable usar '\n' en vez de std::endl al imprimir texto en al consola.

> **Advertencias**
>
> '\n' usa una barra invertida (al igual que lo hacen los caracteres especiales en C++), no
> una barra normal. Si usas una barra normal (por ejemplo: '/n') puede resultar en errores
> inesperados.

## std::cin

`std::cin` es otra variable predefinida que se encuentra en la librería `iostream`. Mientras
que `std::cout` imprime datos en la consola usando el operador de inserción (<<), `std::cin`
(que significa "character input") lee texto del teclado usando el **operador de extracción (>>)**.
El input debe ser almacenado en una varaible para ser usado.

```cpp
#include <iostream>  // para tener std::cout y std::cin disponibles
 
int main()
{
    std::cout << "Escribe un número: "; // le pregunta al usuario por un número
    int x{ }; // define la variable x para almacenar el input del usuario (inicializada a 0)
    std::cin >> x; // obtenemos el número del teclado y lo almacenamos en la variable x
    std::cout << "Escribiste el número " << x << '\n';
    return 0;
}
```

Intenta compilar este programa y ejecútalo por ti mismo. Cuando ejecutes el programa verás
que la línea 5 imprimirá "Escribe un número: ". Cuando el programa llega a la línea 7 el
programa esperará a que el usuario escriba un número en la consola. Cuando escribas un número
(y presiones *Enter*) éste se asignará a la variable *x*. Por último, en la ínea 8, el
programa imprimirá "Escribiste el número " seguido del número que escribiste.

Por ejemplo (escribí el número 4):
```
Escribe un número: 4
Escribiste el número 4
```

Esta es una manera sencilla de recibir input del usuario; lo usaremos en muchos de nuestros
próximos ejemplos. Ten en cuenta que no necesitas usar '\n' al recibir el input del usuario
ya que el usuario necesitará presionar la tecla *Enter* para que su input sea aceptado. Luego
se moverá el cursor a la nueva línea.

Si la consola se cierra inmediatamente después de escribir el número, por favor lee la
[lección 00.08](/Contenido/Cap%C3%ADtulo%2000%20Introducci%C3%B3n%20-%20Empezando/00.08%20Problemas%20comunes%20en%20C%2B%2B.md) para encontrar la solución.

> **Mejores prácticas**
>
> Hay un debate sobre si es necesario inicializar una variable inmediatamente antes de
> darle un valor proporcionado por el usuario a través de otro origen (por ejemplo, std::cin),
> ya que el valor enviado por el usuario sobrescribirá el valor de inicialización de la
> variable. Siguiendo nuestra recomendación de que las variables siempre deben ser
> inicializadas, está en las mejores prácticas inicializar la variable antes que nada.

Discutiremos cómo maneja *std::cin* el input válido en la [lección 07.16](/Contenido/Cap%C3%ADtulo%2007%20Estructura%20de%20control%20y%20control%20de%20errores/07.16%20std-cin%20y%20controlando%20inputs%20inv%C3%A1lidos.md)

> **Para lectores avanzados**
>
> La librería io de C++ no nos proporciona una manera de aceptar input del usuario sin que
> éste tenga que presionar la tecla *Enter*. Si quieres que este comportamiento no ocurra
> puedes usar una librería externa. Para las aplicaciones de consola te recomendamos la
> librería [pdcurses](https://pdcurses.org/). Muchas librerías GUI tienen sus propias funciones para obtener este
> tipo de comportamiento.

## Resumen

Es posible que los programadores principiantes se confundan al usar std::cin, std::cout,
el operador de inserción (<<) y el operador de extracción (>>). Esta es una manera sencilla
de recordarlo:
- `std::cin` y `std::cout` siempre van al lado izquierdo de la declaración.
- `std::cout` se usa para enviar datos al output (cout = character output).
- `std::cin` se usa para recibir datos como input (cin = character input).
- `<<` se usa con std::cout y determina la dirección en que se mueven los datos (si `std::cout` representa a la consola, los datos del output se están moviendo de la variable a la consola). `std::cout << 4` mueve el valor 4 a la consola.
- `>>` se usa con `std::cin` y determina la dirección en que se mueven los datos (si `std::cin` representa al teclado, los datos de input se están moviendo del teclado a la variable). `std::cin >> x` muebe el valor que escribió el usuario del teclado en la variable x.

Escribimos más sobre los operadores en la [lección 01.09](/Contenido/Cap%C3%ADtulo%2001%20Fundamentos%20de%20C%2B%2B/01.09%20Introducci%C3%B3n%20a%20los%20literales%20y%20los%20operadores.md).

## Prueba

**Pregunta 1**

Lee el siguiente programa (el que usamos arriba):
```cpp
#include <iostream>  // para tener std::cout y std::cin disponibles
 
int main()
{
    std::cout << "Escribe un número: "; // le pregunta al usuario por un número
    int x{ }; // define la variable x para almacenar el input del usuario (inicializada a 0)
    std::cin >> x; // obtenemos el número del teclado y lo almacenamos en la variable x
    std::cout << "Escribiste el número " << x << '\n';
    return 0;
}
```

El programa espera que escribar un valor de tipo entero ya que la variable x está definida
como una variable de tipo entero.

Ejecuta este programa muchas veces y describe el comportamiento cuando escribes los siguientes
tipos de input en vez de un número entero:

**a)** Una letra, como *h*.

<details>
    <summary>Mostrar solución</summary>
    x es 0.
</details>

**b)** Un número con decimal. Intenta escribir número con decimal menor a 0.5 y mayor a 0.5
(por ejemplo: 3.2 y 3.7).

<details>
    <summary>Mostrar solución</summary>
    Se descarta el decimal.
</details>

**c)** Un entero negativo, como *-3*.

<details>
    <summary>Mostrar solución</summary>
    Este funciona correctamente.
</details>

**d)** Una palabra, como *Hola*

<details>
    <summary>Mostrar solución</summary>
    x es 0.
</details>

**e)** Un número gigante (al menos 3 millardos).

<details>
    <summary>Mostrar solución</summary>
    Obtienes un número aparentemente aleatorio.
</details>

Puede que el último caso te sorprenda. ¡Inténtalo! Esto ocurre porque x solo puede almacenar
números hasta un cierto tamaño. Después de eso se "desborda". Discutiremos qué es un
desbordamiento en una futura lección.

---

**[Lección anterior](/Contenido/Cap%C3%ADtulo%2001%20Fundamentos%20de%20C%2B%2B/01.04%20Asignaci%C3%B3n%20e%20inicializaci%C3%B3n%20de%20variables.md)** - **[Contenido](https://github.com/JoseDeFreitas/learncpp.es#contenido)** - **[Lección siguiente](/Contenido/Cap%C3%ADtulo%2001%20Fundamentos%20de%20C%2B%2B/01.06%20Variables%20no%20inicializadas%20y%20comportamientos%20no%20definidos.md)**