# 01.10 Introducción a las expresiones

<details>
    <summary>Información del archivo</summary>

| Autor en inglés | Traductor al español | Fecha de creación | Última modificación |
| --------------- | -------------------- | ----------------- | ------------------- |
| Alex            | José De Freitas      | 01/02/2019        | 12/03/2021          |

</details>

#### **Índice**

1. [Expresiones](#expresiones)
2. [Declaraciones de expresiones](#declaraciones-de-expresiones)
3. [Prueba](#prueba)

## Expresiones

Mira las siguientes declaraciones:
```cpp
int x{ 2 };           // inicializa variable x al valor 2
int y{ 2 + 3 };       // inicializa variable y al valor 5
int z{ (2 * 3) + 4 }; // inicializa variable z al valor 10
int w{ y };           // inicializa variable w al valor 5 (el valor de la variable y)
```

Cada una de estas declaraciones define una nueva variable y la inicializa a un valor. Date
cuenta de que la inicialización de estas variables está hecha a través de diferentes
constructores: literales, variables y operadores. C++ convierte cada uno de estos literales,
variables y operadores en un solo valor que puede ser usado como el valor de inicialización de
la variable.

¿Qué tienen todas estas declaraciones en común? Que todas ellas usan una expresión.

Una **expresión** es una combinación de literales, variables, operadores y llamadas a
funciones (esta última que no se muestra en los ejemplos de arriba) que produce un solo
valor (output). Cuando se ejecuta una expresión, cada término en la expresión se evalúa hasta
que quede un solo término (a este proceso se le llama **evaluación**). El valor devuelto es el
**resultado** de la expresión.

Aquí hay algunos ejemplos de diferentes tipos de expresiones con comentarios indicando
cómo se evalúan:
```cpp
2               // 2 es un literal que devuelve el valor 2
"¡Hola, mundo!" // "¡Hola, mundo!" es un literal que devuelve el texto "Hello world!"
x               // x es una variable que devuelve el valor de la variable x
2 + 3           // 2 + 3 usa el operador + para devolver el valor 5
x = 2 + 3       // 2 + 3 devuelve el valor 5, que luego es asignado a la variable x
std::cout << x  // x devuelve el valor x, que luego es imprimido en la consola
```

Como ves, los literales devuelven sus propios valores. Las variables devuelven el valor de la
variable. Aún no te hemos enseñado sobre las llamadas a las funciones, pero en el contexto de
una expresión, una llamada a una función devuelve el valor que retorna la función. Los
operadores nos permiten combinar muchos valroes para producir un nuevo valor.

Ten en cuenta que las expresiones no terminan en un punto y coma y no pueden ser compiladas
por sí mismas. En este ejemplo estás intentando compilar la expresión *x = 5*, pero tu
compilador devolverá un error (probablemente sobre la ausencia de un punto y coma). Las
expresiones siempre son evaluadas como parte de una declaración.

Toma esta declaración como ejemplo:
```cpp
int x{ 2 + 3 }; // 2 + 3 es una expresión que no tiene un punto y coma. El punto y coma está al final de la declaración que contiene la expresión
```

Si desglosaras la sintaxis de esta declaración verías lo siguiente:
```cpp
tipo identificador { expresión };
```

*tipo* puede ser cualquier tipo válido (escogimos el tipo *int*). *identificador* puede ser
cualquier nomrbe válido (escogimos el nombre *x*). *expresión* puede ser cualquier expresión
válida (escogimos la expresión *2 + 3*, la cual usa 2 literales y un operador).

> **Nota**
>
> Siempre que puedas usar un solo valor en C++ también puedes usar una expresión y el
> compilador resolverá la expresión al valor determinado.

## Declaraciones de expresiones

Algunas expresiones (como *x = 5*) son útiles por sí solas. Sin embargo, como mencionamos
anteriormente que las expresiones deben ser parte de una declaración, ¿cómo podemos usar
estas expresiones por sí mismas?

Afortunadamente podemos convertir cualquier expresión en una declaración equivalente (llamada
una declaración de expresión). Una **declaración de expresión** es una declaración que
consiste en una declaración seguida de un punto y coma. Cuando se ejecuta la declaración, la
expresión será evaluada y se descartará el resultado de la expresión.

Es por esto que podemos tomar cualquier expresión (como *x = 5*) y convertirla en una
declaración de expresión (como *x = 5;*) que compilará sin problemas.

Ten en cuenta que las declaraciones de expresión compilan pero son inútiles (por ejemplo:
*2 * 3;*). Este expresión devuelve 6 y luego se descarta este valor.

> **Regla**
>
> Los valores calculados en una expresión son descartados al final de la expresión.

## Prueba

**Pregunta 1**

¿Cuál es la diferencia entre una declaración y una expresión?

<details>
    <summary>Mostrar solución</summary>
    Las declaraciones se usan cuando queremos que el programa ejecute una acción. Las expresiones se usan cuando queremos que el programa calcule un valor.
</details>

**Pregunta 2**

Indica cuáles de las siguientes líneas son *declaraciones que no contienen expresiones*,
cúales son *declaraciones que contienen expresiones* y cuáles son *declaraciones de expresiones*.

a)
```cpp
int x;
```
<details>
    <summary>Mostrar solución</summary>
    La declaración no contiene una expresión (aquí solo estamos definiendo una variable)
</details>

b)
```cpp
int x = 5;
```
<details>
    <summary>Mostrar solución</summary>
    La declaración contiene una expresión (el lado derecho del signo de igual es una expresión que contiene un solo valor, pero el resto de la declaración no es una expersión).
</details>

c)
```cpp
x = 5;
```
<details>
    <summary>Mostrar solución</summary>
    Declaración de expresión (toda la declaración es una expresión, terminada en un punto y coma).
</details>

d)
```cpp
std::cout << x; // pista: el operador << es un operador binario
```
<details>
    <summary>Mostrar solución</summary>
    Ya que el operador << es binario, std::cout debe ser el operando de la izquierda y c debe ser el operando de la derecha. Ya que esa es una declaración completa, esta debe ser una declaración de expresión.
</details>

**Pregunta 3**

Determina qué valores devolverá el siguiente programa. No compiles este programa; piénsa solamente.
```cpp
#include <iostream>
 
int main()
{
	std::cout << 2 + 3 << '\n';
	
	int x{ 6 };
	int y{ x - 2 };
	std::cout << y << '\n';
 
	int z{ 0 };
	z = x;
	std::cout << z - x << '\n';
 
	return 0;
}
```

<dtails>
    <summary>Mostrar solución</summary>
<pre>
<code>
5
4
0

</code>
</pre>
</details>

---

**[Lección anterior](/Contenido/Cap%C3%ADtulo%2001%20Fundamentos%20de%20C%2B%2B/01.09%20Introducci%C3%B3n%20a%20los%20literales%20y%20los%20operadores.md)** - **[Contenido](https://github.com/JoseDeFreitas/learncpp.es#contenido)** - **[Lección siguiente](/Contenido/Cap%C3%ADtulo%2001%20Fundamentos%20de%20C%2B%2B/01.11%20Desarrollando%20tu%20primer%20programa.md)**