# 00.12 Configurando tu compilador - Eligiendo un estándar de lenguaje

<details>
    <summary>Información del archivo</summary>

| Autor en inglés | Traductor al español | Fecha de creación | Última modificación |
| --------------- | -------------------- | ----------------- | ------------------- |
| Alex            | José De Freitas      | 12/11/2019        | 26/01/2020          |

</details>

Habiendo disponibles tantas versiones de C++ (C++98, C++01, C++11, C++14, C++17, etc.),
¿cómo sabe tu compilador cuál de estas usar? Generalmente el compilador eligirá un estándar
predeterminado (no siempre la última versión del lenguaje). Si quieres usar un estándar
diferente tendrás que configurar tu IDE/compilador para que lo haga. Estos ajustes de aplican
por proyecto. Necesitas volverlos a configurar cuando creas un nuevo proyecto.

En los tutoriales de learncpp usamos C++17. Si tu compilador no soporta C++17 no podrás
seguir todas las lecciones, pero no te preocupes: la gran mayoría no será afectada. Asegúrate
de que estas usando un compilador actualizado para que puedas compilar todos los ejemplos por
tí mismo. Hay un ejemplo al final de esta lección el cual puedes usar para probar si tu
compilador está configurando correctamente.

#### **Índice**

1. [Nombres de código para los estándares en desarrollo del lenguaje](#nombres-de-código-para-los-estándares-en-desarrollo-del-lenguaje)
2. [Configurando un estándar del lenguaje en Visual Studio](#configurando-un-estándar-del-lenguaje-en-visual-studio)
3. [Configurando un estándar del lenguaje en Code::Blocks](#configurando-un-estándar-del-lenguaje-en-code::blocks)
4. [Configurando un estándar del lenguaje en g++](#configurando-un-estándar-del-lenguaje-en-g++)
5. [Probando tu compilador](#probando-tu-compilador)

## Nombres de código para los estándares en desarrollo del lenguaje

Ten en cuenta que los nombres de los estándares del lenguaje se forman a partir del año en el
que son publicados (por ejemplo, C++17 porque fue publicado en 2017).

Sin embargo, cuando se está creando un nuevo estándar del lenguaje, no se sabe a ciencia
cierta en qué año se finalizará el desarrollo. Es por esto que se les da códigos en los
nombres a los estándares, los cuales son reemplazados con el número del año en el que son
publicados. Por ejemplo, *C++11* se llamaba *c++1x* mientras estaba en desarrollo. Puede que
todavía veas estos códigos (especialmente en versiones del estándar del lenguaje que están
en desarrollo, las cuales todavía no tienen un nombre definitivo).

Aquí está una tabla de los códigos en los nombres y los nombres definitivos:
- c++1x > C++11
- c++1y > C++14
- c++1z > C++17
- c++2a > C++20

Por ejemplo, si ves `c++1z` sabrás que es sinónimo del estándar del lenguaje C++17.

## Configurando un estándar del lenguaje en Visual Studio

Por ahora, Visual Studio 2019 toma por defecto el estándar C++14, el cual no incluye
funcionalidades nuevas introducidas en C++17 (y C++20), de las cuales se escribe en lecciones
futuras.

Para usar estas nuevas funcionalidades necesitarás activar un estándar del lenguaje más
nuevo. Desafortunadamente, no hay una manera general de hacerlo; necesitas hacer este cambio
por proyecto.

Para hacerlo abre tu proyecto ve a *Proyecto > (el nombre de tu programa) Propiedades* y luego
abre *Propiedades de configuración > C/C++ > Lenguaje*.

Desde ahí podrás configurar *Estándar del lenguaje C++* para que sea la versión de C++ que
quieras.

**INSERTE IMAGEN**

Te recomendamos seleccionar "ISO C++17 Standard (/std:c++17)", el estándar estable más
reciente.

Si quieres experimentar con las nuevas funcionalidades del estándar C++20 elige "ISO C++
Latest (/std:c++latest)". Ten en cuenta que pueden haber fallos.

## Configurando un estándar del lenguaje en Code::Blocks

Es posible que Code::Blocks use el estándar anterior a C++11 como predeterminado. Es muy
probable que quieras cambiarlo a un estándar del lenguaje más nuevo.

Hay buenas noticias: puedes hacerlo; y, no solo eso, sino que además Code::Blocks te permite
configurar el estándar del lenguaje de manera global, por lo que tendrás que configurarlo
solo una vez (en vez de por proyecto). Para hacerlo ve a *Settings > Compiler*:

**INSERTE IMAGEN**

Luego busca la sección que dice *Have g++ follow the C++XX ISO c++ language standard [-std=c++XX]*, donde XX es 11, 14 o algún otro número superior (ve los elementos dentro de la caja
roja de abajo):

**INSERTE IMAGEN**

Selecciona la que tiene el número más alto (en la imagen de arriba es la opción de C++14
dentro de la sección en rojo).

La versión que tienes de Code::Blocks también puede soportar los próximos estándares del
lenguaje C++. Estas versiones serán llamadas *Have g++ follow the coming C++XX (aka C++YY) ISO C++ language standard [-std=c++XX]* (ve la sección azul abajo). Opcionalmente puedes
determinar si te gustaría habilitar las nuevas funciones añadidas en esa versión, pero ten
en cuenta que puede que no sean soportadas al completo (puede que falten algunas
características).

Ve la lista al principio de la lección para entender los códigos en los nombres de los
estándares.

Por ejemplo, si quieres habilitar las funciones de C++17 y no ves una opción de C++17 en los
ajustes, busca por `-std=c++1z` (el código del nombre para C++17).

Alternativamente puedes ir a la pestaña *Other Compiler Options* y escribir *-std=c++17*.

**INSERTE IMAGEN**

> **Nota**
>
> Esto funcionará si tu compilador soporta C++17. Si estás usando una versión anterior de
> Code::Blocks donde no funcionan las características de C++17, actualiza tu compilador.

## Configurando un estándar del lenguaje de g++

> **Para los usuarios de GCC/G++**
>
> En GCC/C++ puedes pasar las siguientes opciones en la línea de comandos -std=c++11, -std=c++14, -std=c++17 o -std=c++2a para habilitar el soporte a C++11/14/17/2a respectivamente.

## Probando tu compilador

Luego de que hayas habilitado el soporte para C++17 o superior deberías ser capaz de compilar
la siguiente porción de código sin ningun error o advertencia.

```cpp
#include <array>
#include <iostream>
#include <string_view>
#include <tuple>
#include <type_traits>
 
namespace a::b::c
{
    inline constexpr std::string_view str{ "hello" };
}
 
template <class... T>
std::tuple<std::size_t, std::common_type_t<T...>> sum(T... args)
{
    return { sizeof...(T), (args + ...) };
}
 
int main()
{
    auto [iNumbers, iSum]{ sum(1, 2, 3) };
    std::cout << a::b::c::str << ' ' << iNumbers << ' ' << iSum << '\n';
 
    std::array arr{ 1, 2, 3 };
 
    std::cout << std::size(arr) << '\n';
 
    return 0;
}
```

Si no puedes compilar este código es que o no tienes el soporte a C++17 habilitado o que tu
compilador no soporta completamente C++17. Si te está ocurriendo la segunda razón por favor
instala la última versión de tu IDE/compilador, como te enseñamos en la [lección 00.06](/Contenido/Cap%C3%ADtulo%2000%20Introducci%C3%B3n%20-%20Empezando/00.06%20Instalando%20un%20Entorno%20de%20Desarrollo%20Integrado.md).

---

**[Lección anterior](/Contenido/Cap%C3%ADtulo%2000%20Introducci%C3%B3n%20-%20Empezando/00.11%20Configurando%20tu%20compilador%20-%20Niveles%20de%20advertencias%20y%20errores.md)** - **[Contenido](https://github.com/JoseDeFreitas/learncpp.es#contenido)** - **[Lección siguiente](/Contenido/Cap%C3%ADtulo%2001%20Fundamentos%20de%20C%2B%2B/01.01%20Declaraciones%20y%20la%20estructura%20de%20un%20programa.md)**