# 00.08 Problemas comunes en C++

<details>
    <summary>Información del archivo</summary>

| Autor en inglés | Traductor al español | Fecha de creación | Última modificación |
| --------------- | -------------------- | ----------------- | ------------------- |
| Alex            | José De Freitas      | 16/12/2007        | 24/12/2019          |

</details>

En esta sección expondremos problemas comunes que los programadores nuevos encuentran a la
hora de crear su primer programa. El objetivo de esta lección no es que sea un lista de
problemas de ejecución sino una lista pragmática de soluciones a problemas básicos. Si tienes
algunas recomendaciones sobre algún otro error que debería ser añadido a esta lista por favor
[abre un issue](https://github.com/JoseDeFreitas/learncpp.es/issues/new).

#### **Índice**

1. [Problemas generales al ejecutar](#problemas-generales-al-ejecutar)
2. [Problemas generales al compilar](#problemas-generales-al-compilar)
3. [Problemas con Visual Studio](#problemas-con-visual-studio)
4. [Extra](#extra)

## Problemas generales al ejecutar

> **Cuando ejecuto el programa, la consola se cierra inmediatamente**
>
> Primera, añade las siguientes líneas de código en las primeras líneas de tu programa (para
> los usuarios de Visual Studio: asegúrense de que estas líneas aparezcan luego de
> `#include "pch.h"` o `#include "stdafx.h"`, si existen):
> 
> ```cpp
> #include <iostream>
> #include <limits>
> ```
> 
> Segundo, añade el código siguiente al final de la función main() (justo antes de la palabra
> "return"):
> 
> ```cpp
> std::cin.clear(); // resetea errores
> std::cin.ignore(std::numeric_limits<std::streamsize>::max(), '\n'); // > ignora cualquier caracter en el input hasta que se reciba una nueva línea
> std::cin.get(); // recibe uno o más caracteres del usuario
> ```
> 
> Esto hará que tu programa espere a que presiones una tecla antes de continuar, dándote 
> tiempo de leer el output de tu programa antes de que se cierre la ventana de la consola.
> 
> Otras soluciones (como la solución `system("pause")`, muy recomendada) puede que solo
> funcione en sistemas operativos específicos. Es por esto que es mejor evitarla.
>
> Puede que versiones anteriores de Visual Studio no pausen el programa cuando lo ejecutas
> seleccionando "Start With Debuggin (F5)". Intenta ejecutarlo seleccionando "Start Without
> Debugging (Ctrl+F5).

> **Ejecuté mi programa y estoy viendo la ventana de consola pero sin ningún output**
>
> Puede que tu antivirus esté bloqueando la ejecución del programa. Intenta desactivarlo
> temporalmente y determina si ese es el problema.

> **Mi programa se compila pero no está funcionando como debería. ¿Qué puedo hacer?**
>
> ¡Depúralo! Hay consejos sobre cómo depurar tu programa en el Capítulo 3.

## Problemas generales al compilar

> **Obtengo el error "unresolved external symbol _main or _WinMain@16" cuando compilo mi programa**
>
> Esto significa que tu compilador no encuentra la función main(). Todos los programas
> deben incluir una función main().
>
> Hay algunas cosas que puedes revisar:
> - ¿Incluye tu código una función main()?
> - ¿Está la palabra "main" escrita correctamente?
> - Cuando compilas tu programa, ¿ves que el archivo que contiene la función main() es
> compilado? Si no es así, puedes mover la función main() a otro archivo que sí se esté
> compilando o añadir el archivo a tu proyecto (ve la [lección 02.07](/Contenido/Cap%C3%ADtulo%2002%20Fundamentos%20de%20C%2B%2B%20-%20Funciones%20y%20archivos/02.07%20Programas%20con%20varios%20archivos%20de%20c%C3%B3digo.md) para más información)
> sobre esto.
> - ¿Creaste un proyecto de consola? Por si acaso, crea un nuevo proyecto de consola.

> **Estoy tratando de usar la funcionalidad de C++11/14/17/XX pero no se está ejecutando**
>
> Puede que tu compilador no soporte las nuevas características del lenguaje si es muy viejo.
> En ese caso, actualiza tu compilador.
>
> Para los IDE/compiladores modernos, puede que tu compilador esté configurado para un
> estándar del lenguaje antiguo. Te enseñamos cómo cambiar el estándar del lenguaje en la
> [lección 00.12](/Contenido/Cap%C3%ADtulo%2000%20Introducci%C3%B3n%20-%20Empezando/00.12%20Configurando%20tu%20compilador%20-%20Eligiendo%20un%20est%C3%A1ndar%20de%20lenguaje.md).

> **Cuando trato de usar cin, cout o endl el compilador me dice que son "undeclared indentified (identificador no declarado)"**
>
> Primero asegúrate de que esta línea de código está al principio de tu archivo:
> ```cpp
> #include <iostream>
> ```
> Segundo, asegúrate de que cada línea que usa cin, cout y endl tiene el prefijo "std::". Por
> ejemplo:
> ```cpp
> std::cout << "¡Hola, mundo!" << std::endl;
> ```
> Si de esta manera no puedes solucionar el error esto quiere decir que tu compilador es
> obsoleto o que la instalación está corrupta. Intenta reinstalar o actualizar tu compilador
> a la última versión.

> **Cuando intendo usar endl para terminar una línea el compilador dice que end1 es un "undeclared identifier"**
>
> Asegúrate de que no estás escribiendo "1" al final de "endl" en vez de una "l (L minúscula)".
> "endl" consiste solo de letras. Asegúrate de que tu editor hace uso de una fuente que
> diferencia la L minúscula, la i mayúscula y el número 1. La letra mayúscula "o" y el número
> cero (0) pueden ser confundidos fácilmente en fuentes que no son para programar.

## Problemas con Visual Studio

> **Al compilar com Microsoft Visual C++ estoy obteniendo un error fatal C1010, con un mensaje de error parecido a "c:\vcprojects\test.cpp(263) :fatal error C1010: unexpected end of file while looking for precompiled header directive"**
>
> Este error ocurre cuando el compilador de Microsoft Visual C++ utiliza los encabezados
> precompilados pero alguno de tus archivos C++ no incluye `#include "stdafx.h"` o
> `#include "pch.h"` al principio.
>
> Te recomendamos desactivar los encabezados precompilados. Enseñamos cómo hacerlo en la
> [lección 00.07](/Contenido/Cap%C3%ADtulo%2000%20Introducci%C3%B3n%20-%20Empezando/00.07%20Compilando%20tu%20primer%20programa.md).
>
> Si te gustaría dejar activado los encabezados precompilados aun puedes resolver el problema.
> Simplemente encuentra el archivo que está produciendo el error (en el ejemplo de arriba
> sería "test.cpp") y añade la siguiente línea de código al comienzo del archivo:
> ```cpp
> #include "pch.h"
> ```
> Algunas versiones antiguas de Visual Studio usan "stdafx.h" en vez de "pch.h", por lo que
> si pch.h no funciona puedes intentar con stdafx.h.
>
> Ten en cuenta que si tienes varios archivos de código C++, cada uno de ellos debe tener
> esta línea al principio.
>
> De forma alternativa puedes, como escribimos anteriormente, desactivar los encabezados
> precompilados ("precompiled headers" en inglés).

> **Visual Studio me devuelve el siguiente error: "1MSVCRTD.lib(exe_winmain.obj) : error LNK2019: unresolved external symbol _WinMain@16 referenced in function "int __cdecl invoke_main(void)" (?invoke_main@@YAHXZ)"**
>
> Si estás viendo este error es porque seguramente creaste un aplicación gráfica de Windows
> en vez de una aplicación de consola. Crea tu proyecto de nuevo y asegúrate de definirlo
> como un proyecto de *Consola* de Windows (o Win32).

> **Al compilar mi programa me devuelven advertencias como "Cannot find or open the PDB file"**
>
> Esto es una advertencia, no un error, por lo que no debería afectar al funcionamiento
> de tu programa. Sin embargo, es fastidioso. Para solucionarlo simplemente debes ir al
> menú Debug > Options and Settings > Symbols y hacer clic en "Microsoft Symbol Server".

## Extra

> **Tengo otro problema que no aparece en esta lista. ¿Cómo puedo obtener la solución rápidamente?**
>
> Es probable que mientras vayas leyendo el material tengas dudas y te encuentres con
> problemas inesperados. Depende de qué problema tienes, pero, en general, hay algunas
> cosas que puedes intentar hacer.
>
> Primero, **busca en tu buscador**. Haz de tu frase de búsqueda una buena elección para
> encontrar resultados relevantes. Si tienes un mensaje de error, pega el mensaje en la
> barra de búsqueda tal cual es metiéndolo dentro de comillas dobles (""). Es posible que
> a alguien le haya ocurrido el mismo problema y que lo haya resuelto públicamente.
>
> Si no puedes encontrar la solución de esta manera **pregunta en un sitio de dudas**. Hay
> muchos sitiso web para preguntas sobre programación, como [Stack Overflow](https://es.stackoverflow.com/).
> Intenta pedir ayuda por allí. Recuerda ser detallista en cuando a explicar tu problema se
> refiere e incluye información relevante, como en qué sistema operativo estás trabajando o
> cuál IDE estás usando.

---

**[Lección anterior](/Contenido/Cap%C3%ADtulo%2000%20Introducci%C3%B3n%20-%20Empezando/00.07%20Compilando%20tu%20primer%20programa.md)** - **[Contenido](https://github.com/JoseDeFreitas/learncpp.es#contenido)** - **[Lección siguiente](/Contenido/Cap%C3%ADtulo%2000%20Introducci%C3%B3n%20-%20Empezando/00.09%20Configurando%20tu%20compilador%20-%20Configuraciones%20de%20compilaci%C3%B3n.md)**