# 01.02 Comentarios

<details>
    <summary>Información del archivo</summary>

| Autor en inglés | Traductor al español | Fecha de creación | Última modificación |
| --------------- | -------------------- | ----------------- | ------------------- |
| Alex            | José De Freitas      | 30/05/2019        | 01/05/2020          |

</details>

Un **comentario** es una nota en un programa que solo el programador puede leer. Los
comentarios no son interpretados por el compilador, por lo que son solo para el uso de los
programadores.

En C++ hay dos tipos de comentarios. Estos tienen el mismo objetivo: ayudar a los programadores a documentar el código de alguna manera.

#### **Índice**

1. [Comentarios de una línea](#comentarios-de-una-línea)
2. [Comentarios de múltiples líneas](#comentarios-de-múltiples-líneas)
3. [Uso adecuado de los comentarios](#uso-adecuado-de-los-comentarios)
4. [Comentando tu código](#comentando-tu-código)
5. [Resumen](#resumen)

## Comentarios de una línea

El símbolo `//` define un **comentario de una línea** en C++; le dice al compilador que ignore
el texto desde // hasta el final de esa línea. Por ejemplo:

```cpp
std::cout << "¡Hola, mundo!"; // Todo esto es ignorado por el compilador
```

Comunmente el comentario de una línea es usado para hacer un comentario rápido sobre una
línea de código.

```cpp
std::cout << "¡Hola, mundo!\n"; // std::cout reside en la librería iostream
std::cout << "¡Es un placer conocerte!\n"; // estos comentarios hacen que el código sea difícil de leer
std::cout << "¡Yeah!\n"; // especialmente cuando las líneas son de diferente longitud
```

Escribir comentarios a la derecha puede hacer que tanto el código como el comentario sean
difíciles de leer, particularmente si la línea es larga. Si las líneas son algo cortas se
pueden alinear los comentarios (usualmente usando tabs). Por ejemplo:

```cpp
std::cout << "¡Hola, mundo!\n";            // std::cout reside en la librería iostream
std::cout << "¡Es un placer conocerte!\n"; // esto es más fácil de leer,
std::cout << "¡Yeah!\n";                   // ¿no crees?
```

Sin embargo, si la línea es larga, al poner los comentarios alineándolos a la derecha puede
hacer que la línea sea aún más larga. En ese caso es preferible escribir los comentarios
arriba de la línea en cuestión:

```cpp
// std::cout reside en la librería iostream
std::cout << "¡Hola, mundo!\n";
 
// esto es más fácil de leer,
std::cout << "¡Es un placer conocerte!\n";
 
// ¿no crees?
std::cout << "¡Yeah!\n";
```

> **Nota del autor**
>
> Las declaraciones de arriba son llamadas "porciones de código". Ya que las porciones de
> código no son programas completos no podemos compilarlos solos. La idea de las porciones de
> código es demostrar conceptos específicos de un tema concreto.
>
> Si quisieras compilar el código de una porción de código necesitarás escribirlo dentro de un
> programa completo para que compile. Comunmente el programa se verá algo así:
> ```cpp
> #include <iostream>
> 
> int main()
> {
>     // Reemplaza esta línea con la porción de código que quieres compilar
>  
>     return 0;
> }
> ```

## Comentarios de múltiples líneas

Los símbolos `/*` y `*/` definen un **comentario de múltiples líneas** (también llamado
aquí como "comentario múltiple") en lenguajes de estilo C. Todo el texto que esté dentro de
estos símbolos será ignorado:

```cpp
/* Este es un comentario múltiple.
   Esta línea será ignorada.
   Al igual que esta. */
```

Ya que todos los caracteres serán ignorados a veces verás que los programadores le dan estilo
a estos comentarios:

```cpp
/* Este es un comentario múltiple.
 * Los asteriscos en la izquierda
 * pueden hacer que sea más fácil leer el comentario.
 */
```

Los comentarios múltiples no pueden ser anidados. Es por esto que la siguiente porción de
código devolverá resultados inesperados:

```cpp
/* Este es un comentario /* múltiple. */ Esto no está dentro del comentario */
// El comentario de arriba termina en el primer */, no en el segundo. */
```

Cuando el compilador intenta compilar esto ignorará todo desde el primer /* al primer */.
Debido a que  "*Esto no está dentro del comentario */*" no se considera parte del comentario,
el compilador intentará compilarlo. Invariablemente devolverá un error.

En un caso como este nos damos cuenta de que el destacar y colorear la fuente de código es
útil para ayudarnos a determinar qué está dentro del comentario y qué no lo está.

> **Advertencias**
>
> No uses comentarios múltiples dentro de otros comentarios múltiples. Sin embargo, puedes
> anidar comentarios de una línea dentro de comentarios de múltiples líneas.

## Uso adecuado de los comentarios

Comunmente los comentarios se utilizan para tres cosas. Primero, los comentarios son usados
para describir qué hace una librería, programa o función. Se suele escribir este tipo de
comentarios al principio del archivo o justo después de la declaración de la función.
Por ejemplo:

```cpp
// Este programa calcula la nota final del estudiante basada en las calificaciones de sus evaluaciones y tareas.
```
```cpp
// Esta función usa el método de Newton para aproximarse a la raíz de la ecuación.
```
```cpp
// La siguiente línea genera un elemento aleatorio basado en la excepcionalidad, el nivel y el factor de tamaño.
```

Todos estos comentarios le ayudan a los programadores a tener una idea de cómo funciona
una librería, programa o función sin tener que leer y entender el código. El usuario (
posiblemente alguien más o tu mismo al leer tu código tiempo después) puede determinar si el
código en concreto es relevante para lo que quiere realizar. Esto es muy importante cuando se
trabaja en equipo ya que puede que no todos estén familiarizados con el código.

Segundo, *dentro* de una librería, programa o función, los comentarios pueden ser usados
para describir *cómo* el código cumplirá su objetivo:

```cpp
/* Para calcular la calificación final sumamos todos los términos de las notas de las
    evaluaciones y luego dividimos el número de calificaciones para asignarle un porcentaje,
    el cual es usado para calcular la calificación final. */
```
```cpp
// Para generar un elemento aleatorio haremos lo siguiente:
// 1) Poner todos los elementos seleccionados en una lista
// 2) Calcula la probabilidad para cada elemento basada en el nivel y el tamaño del factor
// 3) Elige un número aleatorio
// 4) Determinar a cuál elemento corresponde el número aleatorio
// 5) Devuelve el elemento apropiado
```

Estos comentarios le explican al usuario cómo funciona el código para cumplir su objetivo
sin tener que entender qué hace cada línea de código.

Tercero, los comentarios deben ser usado para describir *por qué* el código está haciendo
lo que hace. Un mal comentario de declaración explica *qué* está haciendo el código. Si alguna
vez escribes un programa o código que es tan complejo que necesita comentarios para explicar
*qué* está haciendo uan declaración, probablemente necesitas volver a escribir la declaración,
no escribir un comentario.

Aquí hay algunos ejemplos de comentarios malos y buenos aplicados a declaraciones.

Mal comentario:
```cpp
// Definir el rango de "sight" a 0
sight = 0;
```

Razón: podemos darnos cuando que estamos asignando 0 a la variable "sight" sin tener que leer
el comentario.

Buen comentario:
```cpp
// El jugador bebió una poción de ceguera y no puede ver nada
sight = 0;
```

Razón: ahora sabemos por qué la variable "sight ("visión" en español)" tiene el valor 0.

Mal comentario:
```cpp
// Calcular el costo de los elementos
cost = quantity * 2 * storePrice;
```

Razón: podemos ver que esta declaración calcula en costo, pero, ¿por qué se multiplica por 2?

Buen comentario:
```cpp
// Necesitamos multiplicar la cantidad por 2 ya que los elementos son comprados en pares
cost = quantity * 2 * storePrice;
```

Razón: ahora sabemos el porqué del sentido de esta fórmula.

***Como ves, los nombres de las variables están en inglés. Al programar se suele escribir todo en inglés salvo el texto que podrán leer tus usuarios (si es que el programa está dirigido a personas de habla hispana). Te recomiendo seguir esta práctica y mantener todo en inglés salvo los comentarios y el output, los cuales puedes escribir en español (si así lo deseas).***

Los programadores tienen que tomar una difícil decisión en cuanto a cómo resolver un problema.
Los comentarios son una buena manera de recordarte a ti mismo (o a alguien más) el porqué
de tu decisión en vez de alguna otra.

Buenos comentarios:

```cpp
// Decidimos usar una lista enlazada en vez de un array porque
// los arrays insertan elementos muy lentamente.
```
```cpp
// Vamos a usar el método de Newton para encontrar la raíz del número porque
// no hay una manera determinante de resolver estas ecuaciones.
```

Para terminar, los comentarios deben ser escritos de manera que una persona que no tenga idea
de qué hace el código pueda entender cómo funciona. Es común que los programadores digan
"¡Su funcionamiento es muy obvio! No hay posibilidad de que olvide esto". Adivina qué: *no*
es obvio, y *te sorprenderás* qué rápido olvidarás cómo funciona. Tu (o alguien más) te
agradecerá en el futuro por escribir el qué, el cómo y el porqué de tu código en lenguaje
humano. Leer líneas de código individuales es muy fácil. Entender cuál es su objetivo no lo
es.

> **Mejores prácticas**
>
> Escribe comentarios en tu código libremente y escribe los comentarios como si estuvieras
> explicándole a alguien que no tiene idea de qué hace el código. No asumas que recordarás el
> porqué tomaste ciertas decisiones.

> **Nota del autor**
>
> Usaremos comentarios dentro de las porciones de código a lo largo de los tutoriales para
> explicarte cosas específicas o ayudarte a entender cómo funcionan las cosas (a la vez que
> nos aseguramos que el programa compilará sin errores). Los lectores astutos notarán que los
> comentarios de arriba son horribles. Mientras vas leyendo los demás tutoriales ten en cuenta
> que los comentarios tienen un propósito educativo, no para demostrarte cómo son los
> comentarios en realidad.

## Comentando tu código

La práctica de comentar una o más líneas de código se llama **comentar tu código**. De esta
manera excluimos temporalmente partes del código para ser ignoradas a la hora de compilar.

Para compilar una sola línea de código usa un comentario de una sola línea (//) para comentar
una línea de código temporalmente.

Sin comentar:
```cpp
    std::cout << 1;
```

Comentado:
```cpp
//    std::cout << 1;
```

Para comentar una porción de código usa // en cada línea o usa los comentarios múltiples
(/* */) para comentar la porción de código temporalmente.

Sin comentar:
```cpp
    std::cout << 1;
    std::cout << 2;
    std::cout << 3;
```

Comentado:
```cpp
//    std::cout << 1;
//    std::cout << 2;
//    std::cout << 3;
```

o:
```cpp
/*
    std::cout << 1;
    std::cout << 2;
    std::cout << 3;
*/
```

Hay algunas razones por las cuales querrás hacer esto:

1. Estás trabajando en una nueva función de tu código que sabes que no compilará aún pero
necesitas ejecutar el programa. El compilador no te dejará compilar el código si hay errores.
Al comentar tu código harás que la porción de código que no compila sea ignorada por el
compilador y este pueda ejecutar tu programa. Cuando estés listo puedes quitar el comentario
del código y continuar trabajando en él.
2. Has escrito una nueva función que compila pero no funciona correctamente y no tienes
tiempo de correjirla. Al comentar el código que no funciona te estás asegurando de que éste
no se ejecutará y no causará problemas hasta que tengas tiempo de solucionarlo.
3. Para encontrar la fuente de un error. Si el programa no está devolviendo los resultados
deseados (o está fallando) puede ser debido a que algunas partes de tu código no están
funcionando. Puedes ir comentando las porciones de tu código que creas que están causando el
error para determinar qué líneas lo causan. Luego puedes investigar por qué esas líneas de
código están haciendo que tu programa no funcione correctamente.
4. Quieres reemplazar una porción de código por otra. En vez de borrar el código original,
puedes comentarlo y dejarlo ahí como referencia hasta que la nueva porción de código que
reemplaza a este funciona correctamente. Cuando te asegures de que el nuevo código que
escribiste está funcionando correctamente puedes borrar la porción de código anterior. Si la
nueva porción de código que escribiste no funciona puedes eliminarla, quitarle el comentario
a la porción original y tener tu código como lo tenías anteriormente.

Ya que esta práctica es tan común cuando se está desarrollando, muchos IDE soportan comentar
porciones de código. El cómo acceder a esta configuración varía según el IDE.

> **Para usuarios de Visual Studio**
>
> Puedes comentar o quitarle el comentario a una porción de tu código a través de *Edit > Advances > Comment Selection (o Uncomment Selection)*.

> **Para usuarios de Code::Blocks**
>
> Puedes comentar o quitarle el comentario a una porción de tu código a través de *Edit > Comment (o Uncomment o Toggle comment o cualquier otra herramienta de comentarios)*.

> **Consejo**
>
> Si siempre usas comentarios de una línea como tus comentarios normales puedes usar siempre
> comentarios de múltiples líneas para comentar tu código sin problemas. Si usas comentarios
> de múltiples líneas para documentar tu código, comentar porciones de tu código usando este
> mismo tipo de comentarios puede ser más difícil.
>
> Si necesitas comentar una porción de código que contiene comentarios múltiples puedes
> considerar usar la directiva de preprocesador `#if 0`; escribimos sobre ella en la
> [lección 02.09](/Contenido/Cap%C3%ADtulo%2002%20Fundamentos%20de%20C%2B%2B%20-%20Funciones%20y%20archivos/02.09%20Introducci%C3%B3n%20al%20preprocesador.md).

## Resumen

- En el contexto de una librería, un programa o una función usa los comentarios para describir el *qué*.
- Dentro de una librería, programa o función usa los comentarios para describir el *cómo*.
- En el contexto de una declaración, usa los comentarios para describir el *porqué*.

---

**[Lección anterior](/Contenido/Cap%C3%ADtulo%2001%20Fundamentos%20de%20C%2B%2B/01.01%20Declaraciones%20y%20la%20estructura%20de%20un%20programa.md)** - **[Contenido](https://github.com/JoseDeFreitas/learncpp.es#contenido)** - **[Lección siguiente](/Contenido/Cap%C3%ADtulo%2001%20Fundamentos%20de%20C%2B%2B/01.03%20Introducci%C3%B3n%20a%20las%20variables.md)**
