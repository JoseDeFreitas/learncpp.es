# 02.01 Introducción a las funciones

<details>
    <summary>Información del archivo</summary>

| Autor en inglés | Traductor al español | Fecha de creación | Última modificación |
| --------------- | -------------------- | ----------------- | ------------------- |
| Alex            | José De Freitas      | 31/05/2007        | 27/01/2020          |

</details>

En el último capítulo definimos que una función es una colección de declaraciones que se
ejecutan de manera secuencial. Esto es cierto, pero la definición no nos dice por qué son
útiles las funciones. Vamos a escribir una mejor definición: una **función** es una
secuencia de declaraciones diseñadas para realizar cualquier acción.

Ya sabes que cada programa debe tener una función especial llamada *main* (en donde empieza
a ejecutarse el programa). Sin embargo, mientras los programas van creciendo, se vuelve muy
difícil escribir todo el código dentro de la función *main*. Gracias a las funciones podemos
separar nuestro programa en partes que son fáciles de organizar, probar y usar. La mayoría de
los programadores usan muchas funciones. La librería estándar de C++ trae consigo muchas
funciones predefinidas que podemos usar. Aun así, es igual de común escribir tus propias
funciones. Las funciones que tu escribes se llaman **funciones definidas por el usuario**.

Imagina una caso que puede ocurrir en la vida real: estás leyendo un libro cuando recuerdas
que debes hacer una llamada. Pones un marcalibros en la página en donde te quedaste, haces
la llamada y finalmente vuelves al lugar en donde estabas leyendo el libro justo en la
página en donde te quedaste.

Los programas funcionan igual. Los programas ejecutarán declaraciones de manera secuencial
dentro de una función que se encuentra con una llamada a una función. Una **llamada de función**
es una expresión que le dice al CPU que interrumpa la función que se está ejecutando y ejecute
otra. El CPU "pone un marcalibro" en un punto exacto de la ejecución y **llama** (ejecuta) la
otra función. Cuando se termina de ejecutar la función llamada, el CPU vuelve al lugar en
donde estaba y reanuda la ejecución.

La función que llama a otra función se llama "**caller**", mientras que a la función que es
llamada se le llama "**callee**" o "**called**".

#### **Índice**

1. [Un ejemplo de una función definida por el usuario](#un-ejemplo-de-una-función-definida-por-el-usuario)
2. [Llamando funciones más de una vez](#llamando-funciones-más-de-una-vez)
3. [Funciones que llaman funciones que a su vez llaman funciones](#funciones-que-llaman-funciones-que-a-su-vez-llaman-funciones)
4. [Las funciones anidadas no están permitidas](#las-funciones-anidadas-no-están-permitidas)
5. [Prueba](#prueba)

## Un ejemplo de una función definida por el usuario

Vamos a enseñarte la manera más fácil de definir una función. En esta lección, las funciones
definidas por el usuario (exceptuando *main*) seguirán la siguiente sintaxis:
```
tipo-de-return identificador() // reemplazamos identificador con el nombre que queramos para la función
{
    // Tu código aquí
}
```

En futuras lecciones explicaremos partes específicas de esta sintaxis. Por ahora,
reemplazaremos *identificador* por el nombre que queramos para la función. A las llaves y
a las declaraciones dentro de éstas se les llama **cuerpo de la función**.

Este es un ejemplo de un programa que define una nueva función, que es llamada luego por
la función *main*:
```cpp
#include <iostream> // para tener std::cout disponible

// Definición de la función definida por el usuario llamada doPrint()
void doPrint() // doPrint() es la función que es llamada en este ejemplo
{
    std::cout << "En doPrint()\n";
}

// Definición de la función main()
int main()
{
    std::cout << "Empezando main()\n";
    doPrint(); // se interrumple main() ya que estamos llamando a la otra función: doPrint(). main() es la "caller".
    std::cout << "Terminando main()\n"; // esta declaración se ejecuta luego de que termina la ejecución de doPrint()

    return 0;
}
```

Este programa produce el siguiente output:
```
Empezando main()
En doPrint()
Terminando main()
```

Este programa se empieza a ejecutar en la función *main*. La primera línea imprime
`Empezando main()`.

La segunda línea en *main* llama a la función *doPrint*. Llamamos a la función *doPrint*
al añadir paréntesis al final del nombre de la función, así: `doPrint()`. Ten en cuenta que,
si olvidas colocar los paréntesis, puede que tu programa no compile (y si lo hace, no
se llamará a la función).

> **Advertencias**
>
> No te olvides de incluir () luego del nombre de una función a la hora de llamarla.

Ya que hemos llamado a otra función, la ejecución de las declaraciones dentro de la
función *main* se suspende y la ejecución del programa salta a la función llamada *doPrint*.
La primera (y única) línea de *doPrint* imprime `En doPrint()`. Cuando *doPrint* termina de
ejecutarse, la ejecución del programa vuelve a la función que llamó a la otra (*main*, en
este caso) y se reanuda la ejecución del programa. Luego de este proceso se imprime
finalmente el texto `Terminando main()`.

## Llamando funciones más de una vez

Un aspecto muy útil de las funciones es que se pueden llamar más de una de ellas. El siguiente
es un programa que demuestra este funcionamiento:
```cpp
#include <iostream> // para tener std::cout disponible

void doPrint()
{
    std::cout << "En doPrint()\n";
}

// Definición de la función main()
int main()
{
    std::cout << "Empezando main()\n";
    doPrint(); // se llama a doPrint() por primera vez
    doPrint(); // se llama a doPrint() por segunda vez
    std::cout << "Terminando main()\n";

    return 0;
}
```

Este programa devuelve el siguiente output:
```
Empezando main()
En doPrint()
En doPrint()
Terminando main()
```

Ya que llamamos dos veces a *doPrint* dentro de *main*, *doPrint* se ejecuta dos veces y
"*En doPrint()*" se imprime dos veces (una vez por cada llamada de función).

## Funciones que llaman funciones que a su vez llaman funciones

Ya has visto que la función *main* puede llamar a otra función (como a la función *doPrint*,
según el ejemplo de arriba). Cualquier función puede llamar a cualquier otra función. En el
siguiente programa, la función *main* llama a la función *doA* que a su vez llama a la función
*doB*:
```cpp
#include <iostream> // para tener std::cout disponible

void doB()
{
    std::cout << "En doB()\n";
}

void doA()
{
    std::cout << "Empezando doA()\n";

    doB();

    std::cout << "Terminando doA()\n";
}

// Definición de la función main()
int main()
{
    std::cout << "Empezando main()\n";

    doA();

    std::cout << "Terminando main()\n";

    return 0;
}
```

Este programa devuelve el siguiente output:
```
Empezando main()
Empezando doA()
En doB()
Terminando doA()
Terminando main()
```

## Las funciones anidadas no están permitidas

A diferencia de otros lenguajes de programación, las funciones en C++ no pueden ser
escritas dentro de otra función. El siguiente programa no es posible:
```cpp
#include <iostream>

int main()
{
    int foo() // ¡ilegal! esta función está dentro de la función main()
    {
        std::cout << "¡foo!\n";
        return 0;
    }

    foo(); // llamada de función a foo()
    return 0;
}
```

La manera correcta de escribir el programa de arriba es esta:
```cpp
#include <iostream>

int foo() // ya no está dentro de main()
{
    std::cout << "¡foo!\n";
    return 0;
}

int main()
{
    foo();
    return 0;
}
```

## Prueba

**Pregunta 1**

En una definición de función, ¿cómo se llaman las llaves y las declaraciones dentro de éstas?

<details>
    <summary>Mostrar solución</summary>
    El cuerpo de la función.
</details>

**Pregunta 2**

¿Qué imprime este programa? No lo compiles, simplemente lee el código y averígualo por ti mismo.

```cpp
#include <iostream> // para tener std::cout disponible
 
void doB()
{
    std::cout << "En doB()\n";
}
 
void doA()
{
    std::cout << "En doA()\n";
 
    doB();
}
 
// Definición de la función main()
int main()
{
    std::cout << "Empezando main()\n";
 
    doA();
    doB();
 
    std::cout << "Terminando main()\n";
 
    return 0;
}
```

<details>
    <summary>Mostrar solución</summary>
    
    Empezando main()
    En doA()
    En doB()
    En doB()
    Terminando main()

</details>

---

**[Lección anterior](/Contenido/Cap%C3%ADtulo%2001%20Fundamentos%20de%20C%2B%2B/01.XX%20Resumen%20del%20Cap%C3%ADtulo%2001%20y%20evaluaci%C3%B3n.md)** - **[Contenido](https://github.com/JoseDeFreitas/learncpp.es#contenido)** - **[Lección siguiente](/Contenido/Cap%C3%ADtulo%2002%20Fundamentos%20de%20C%2B%2B%20-%20Funciones%20y%20archivos/02.02%20Valores%20de%20retorno%20de%20las%20funciones.md)**