# 02.05 El porqué de la utilidad de las funciones y cómo usarlas efectivamente

<details>
    <summary>Información del archivo</summary>

| Autor en inglés | Traductor al español | Fecha de creación | Última modificación |
| --------------- | -------------------- | ----------------- | ------------------- |
| Alex            | José De Freitas      | 04/08/2015        | 13/06/2019          |

</details>

Ahora que te hemos enseñado qué son las funciones y sus funcionalidades, veamos con detalle
su utilidad.

#### **Índice**

1. [¿Por qué usar funciones?](#por-qué-usar-funciones)
2. [Usando funciones de manera efectiva](#usando-funciones-de-manera-efectiva)

## ¿Por qué usar funciones?

Los programadores novatos se preguntan a menudo: "¿Por qué no colocar todo el código del
programa dentro de la función *main*?". Si estás haciendo un programa sencillo puedes hacer
esto. Sin embargo, si usas funciones tienes una cantidad de beneficios que hacen que sean
totalmente útiles en programas un poco más largos o complejos.

- **Organización**: a medida que crece la complejidad de un programa, tener todo el código
dentro de la función main() hace que el programa sea más complicado. Una función es casi como
un miniprograma que podemos escribir de manera separada al programa principal sin tener que
pensar sobre el resto del programa. Esto nos permite reducir un programa complicado en
partes sencillas, reduciendo a su vez la complejidad total del programa.
- **Reutilización**: una vez que se escribe una función esta puede ser llamada muchas veces
a lo largo del programa. De esta manera se evita escribir código duplicado ("Don't Repeat
Yourself") y minimiza la probabilidad de errores de copia y pega. Las funciones también
pueden ser compartidas entre otros programas, reduciendo así la cantidad de código que tiene
que ser escrito desde cero (y probado) cada vez.
- **Pruebas**: debido a que las funciones reducen la redundancia del código hay menos código
que probar al principio. Ya que las funciones son independientes no tenemos que probar la
función de nuevo luego de haberla probado una vez (a no ser que quieras cambiar la función).
Se reduce así la cantidad de código que tenemos que probar, haciendo mucho más fácil la 
búsqueda de fallos.
- **Extensibilidad**: cuando queremos extender nuestro programa para que tome en cuenta un
caso en el que no pensamos anteriormente podemos hacer uso de las funciones para poder hacer
el cambio en una sola parte del código y reutilizarlo cuando queramos llamando a la función
que lo contiene.
- **Abstracción**: para usar una función debes conocer su nombre, sus inputs/outputs y dónde
está situada en el código. No necesitas saber cómo funciona ni de qué otro código depende
para funcionar. Esto minimiza la cantidad de conocimiento requerido para usar el código de
alguien más (incluyendo incluso a la librería estándar).

No lo parece, pero cada vez que usas el operador << o el operador >> para tomar input o enviar
algo al output estás usando una función de la librería estándar que cumple con todos los
criterios expuestos arriba.

## Usando funciones de manera efectiva

Uno de los retos más grandes con el que se encuentran los programadores novatos (a parte de
aprender el lenguaje) es entender cuándo y cómo usar funciones de una manera efectiva. Aquí
te recomendamos unas reglas básicas para escribir funciones:
- Las declaraciones que aparecen más de una vez en un programa deben ser metidas dentro de
una función. Por ejemplo: si estamos leyendo el input que introduce el usuario muchas veces
en nuestro programa (de la misma manera) podemos convertir ese código en una función. Si
enviamos algo al output de la misma manera muchas veces a lo largo de nuestro programa podemos
también convertir ese código en una función.
- El código que tiene un conjunto de inputs/outputs bien definidos es un buen candidato para
convertirlo en una función, especialmente si es complicado. Por ejemplo: si tenemos una lista
de elementos que queremos ordenar, el código para ordenar esta lista sería un buen candidato
para una función, incluso si se necesita solo una vez en el programa. El input sería la lista
desordenada y el output la lista ordenada.
- Generalmente las funciones deben hacer una (y solo una) tarea.
- Cuando una función se vuelve muy larga, complicada o difícil de entender podemos partirla en
subfunciones. A este proceso se le conoce como **refactorización**. Hablaremos más sobre
refactorización en la [lección 03.10](/Contenido/Cap%C3%ADtulo%2003%20Depurando%20programas%20C%2B%2B/03.10%20Encontrando%20errores%20antes%20de%20que%20se%20conviertan%20en%20problemas.md).

Comúnmente mientras estás aprendiendo C++ escribirás un montón de programas que comprenden
3 tareas:
1. Leer inputs del usuario.
2. Calcular un valor a partir de los inputs.
3. Imprimir el valor calculado.

Para programas triviales (programas con menos de 20 líneas de código) algunas o todas las
declaraciones pueden ser metidas dentro de la función *main*. No obstante es recomendable usar
otras funciones para programas más largos (o simplemente para practicar).

Los programadores novatos tienden a calcular un valor e imprimir el valor calculado usando
una sola función. Esta práctica está en contra de la regla convencional de que las funciones
deben hacer una sola tarea. Una función que calcula un valor debe retornar el valor a la
función que la llamó y dejar que esta función decida qué hacer con el valor calculado (como
llamar a otra función que imprima el valor).

---

**[Lección anterior](/Contenido/Cap%C3%ADtulo%2002%20Fundamentos%20de%20C%2B%2B%20-%20Funciones%20y%20archivos/02.04%20Introducci%C3%B3n%20al%20alcance%20local.md)** - **[Contenido](https://github.com/JoseDeFreitas/learncpp.es#contenido)** - **[Lección siguiente](/Contenido/Cap%C3%ADtulo%2002%20Fundamentos%20de%20C%2B%2B%20-%20Funciones%20y%20archivos/02.06%20Declaraciones%20y%20definiciones%20de%20futuro.md)**